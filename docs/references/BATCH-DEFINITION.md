# 배치 개념 정리

## **1. 배치 처리의 개념 및 필요성**

* **배치 처리(Batch Processing):** 데이터를 일정량 모아서 한 번에 처리하는 방식.
* **적합한 상황:**
  * **시간당 처리량 향상:** 대량의 데이터를 효율적으로 처리하여 전체 시스템 처리량을 높여야 할 때.
  * **온라인 시스템 성능 개선:** 실시간으로 처리할 필요가 없는 작업을 배치로 분리하여 온라인 시스템의 응답 속도를 확보해야 할 때. (예: 접수 처리 후 내부 데이터 정산 등)
  * **비즈니스 정책 일치:** 특정 주기(월말, 주말)에 맞춰 대규모 데이터 집계나 백업이 필요한 경우.
  * **외부 시스템 연계:** 실시간 통신이 필수가 아닌 경우, 일정 시간 모인 데이터를 파일 형태로 교환할 때.

---

## **2. '온라인 배치'와 '이벤트 기반 배치'의 진화**

전통적인 배치 처리가 데이터를 '모아서' 처리하는 방식이라면, 현대적인 배치 처리 방식은 비동기적이고 효율적인 처리를 위해 발전했습니다.

| 구분 | **전통적인 배치 처리** | **온라인 배치 (지연 배치)** | **현대적 배치 처리 (이벤트 기반)** |
| :--- | :--- | :--- | :--- |
| **개념** | 정해진 시간에 대량의 데이터를 모아 한 번에 처리 | 웹 요청을 받은 후 비동기적으로 처리 | 특정 '이벤트'가 발생할 때마다 비동기적으로 처리 |
| **처리 방식** | 스케줄러를 통해 특정 시간에 일괄 실행 | WAS에 상주하며 요청 발생 시 즉시 처리 | 메시지 브로커(Kafka, RabbitMQ 등)를 통해 이벤트 수신 및 처리 |
| **요청 수신 매체** | 스케줄러 | WAS | 메시지 브로커(Message Broker) |
| **특징** | 처리 시점을 예측 가능. | 요청이 예측 가능한 상황에서 자원을 미리 할당해둠. | 요청 발생 시점을 예측할 필요 없이, 이벤트 발생 즉시 처리 가능. 높은 유연성과 확장성 제공. |

---

## **3. CUPIA EDPF의 포지셔닝**

CUPIA에서 개발하는 EDPF(Event-driven Processing Framework)는 책에서 언급된 **'온라인 배치'** 개념의 현대적이고 확장된 형태입니다.

* **공통점:** 두 방식 모두 자원을 미리 할당하고 요청이 들어오면 즉시 처리한다는 공통점을 가집니다.
* **차이점:** WAS의 스케줄러 대신 **메시지 큐(Message Queue)**를 사용하여 이벤트를 수신하고 처리합니다. 이는 시스템 간의 결합도를 낮추고, 유연성과 확장성을 극대화하는 최신 아키텍처 패턴을 따르는 것입니다.

따라서 CUPIA EDPF는 단순히 '온라인 배치'를 구현하는 것을 넘어, **'이벤트 기반의 비동기적 지연 배치 처리'**를 가능하게 하는 프레임워크라고 정의할 수 있습니다. 이는 기존 배치 방식의 한계를 극복하고, 더욱 효율적이고 확장 가능한 시스템을 구축하는 데 중요한 역할을 합니다.
